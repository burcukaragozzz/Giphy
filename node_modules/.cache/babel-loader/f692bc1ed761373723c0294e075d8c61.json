{"ast":null,"code":"import _classCallCheck from\"/Users/burcu.karagoz/Project2/giphy/Giphy/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/burcu.karagoz/Project2/giphy/Giphy/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/burcu.karagoz/Project2/giphy/Giphy/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/burcu.karagoz/Project2/giphy/Giphy/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/burcu.karagoz/Project2/giphy/Giphy/node_modules/@babel/runtime/helpers/esm/inherits\";import React from'react';import'./App.css';import Gif from'./gif';import NoGifs from'./noGifs';var GifList=/*#__PURE__*/function(_React$Component){_inherits(GifList,_React$Component);function GifList(props){var _this;_classCallCheck(this,GifList);_this=_possibleConstructorReturn(this,_getPrototypeOf(GifList).call(this,props));_this.state={loadingState:false,offset:0};return _this;}_createClass(GifList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var gifContainer=document.querySelector('#gifContainer');gifContainer.addEventListener(\"scroll\",function(){if(gifContainer.scrollHeight===gifContainer.clientHeight+gifContainer.scrollTop){_this2.loadMoreItems();}});}},{key:\"loadMoreItems\",value:function loadMoreItems(){var _this3=this;var _this$props=this.props,data=_this$props.data,setGiflist=_this$props.setGiflist;if(this.state.loadingState){return;}this.setState(function(prevState){return{offset:prevState.offset+1,loadingState:true};});setTimeout(function(){fetch('https://api.giphy.com/v1/gifs/trending?&offset='+_this3.state.offset+'&limit=20&api_key=dc6zaTOxFJmzC').then(function(response){return response.json();}).then(function(responseData){setGiflist(data.concat(responseData.data));}).catch(function(error){console.log(error);});_this3.setState({gifs:_this3.props.gifs,loadingState:false});},1000);}},{key:\"render\",value:function render(){var results=this.props.data;var gifs;if(results.length>0){gifs=results.map(function(gif,index){return React.createElement(Gif,{url:gif.images.fixed_height.url,key:index});});}else{gifs=React.createElement(NoGifs,null);}return React.createElement(\"div\",{id:\"gifContainer\",style:{height:\"calc(100vh - 76px)\",overflow:\"auto\",marginTop:'10px'}},React.createElement(\"ul\",{className:\"gif-list\"},gifs),this.state.loadingState?React.createElement(\"p\",{className:\"loading\"},\" loading More Items..\"):\"\");}}]);return GifList;}(React.Component);export default GifList;","map":{"version":3,"sources":["/Users/burcu.karagoz/Project2/giphy/Giphy/src/gifLİst.js"],"names":["React","Gif","NoGifs","GifList","props","state","loadingState","offset","gifContainer","document","querySelector","addEventListener","scrollHeight","clientHeight","scrollTop","loadMoreItems","data","setGiflist","setState","prevState","setTimeout","fetch","then","response","json","responseData","concat","catch","error","console","log","gifs","results","length","map","gif","index","images","fixed_height","url","height","overflow","marginTop","Component"],"mappings":"0nBAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,GAAP,KAAgB,OAAhB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,GAGMC,CAAAA,O,6EACJ,iBAAYC,KAAZ,CAAmB,yCACjB,yEAAMA,KAAN,GACA,MAAKC,KAAL,CAAa,CACVC,YAAY,CAAE,KADJ,CAEVC,MAAM,CAAE,CAFE,CAAb,CAFiB,aAMjB,C,iFAEkB,iBAClB,GAAMC,CAAAA,YAAY,CAAGC,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAArB,CAEAF,YAAY,CAACG,gBAAb,CAA8B,QAA9B,CAAwC,UAAM,CAC5C,GAAGH,YAAY,CAACI,YAAb,GAA8BJ,YAAY,CAACK,YAAb,CAA4BL,YAAY,CAACM,SAA1E,CAAqF,CACnF,MAAI,CAACC,aAAL,GACD,CACF,CAJD,EAKD,C,qDAEe,iCACe,KAAKX,KADpB,CACNY,IADM,aACNA,IADM,CACAC,UADA,aACAA,UADA,CAGd,GAAG,KAAKZ,KAAL,CAAWC,YAAd,CAA2B,CACzB,OACD,CAED,KAAKY,QAAL,CAAc,SAAAC,SAAS,QAAK,CAC1BZ,MAAM,CAAEY,SAAS,CAACZ,MAAV,CAAmB,CADD,CAE1BD,YAAY,CAAE,IAFY,CAAL,EAAvB,EAKAc,UAAU,CAAC,UAAM,CACfC,KAAK,CAAC,kDAAoD,MAAI,CAAChB,KAAL,CAAWE,MAA/D,CAAwE,iCAAzE,CAAL,CACCe,IADD,CACM,SAAAC,QAAQ,QAAIA,CAAAA,QAAQ,CAACC,IAAT,EAAJ,EADd,EAECF,IAFD,CAEM,SAAAG,YAAY,CAAI,CACpBR,UAAU,CAACD,IAAI,CAACU,MAAL,CAAYD,YAAY,CAACT,IAAzB,CAAD,CAAV,CACD,CAJD,EAKCW,KALD,CAKO,SAAAC,KAAK,CAAI,CACdC,OAAO,CAACC,GAAR,CAAYF,KAAZ,EACD,CAPD,EAQA,MAAI,CAACV,QAAL,CAAc,CAAEa,IAAI,CAAE,MAAI,CAAC3B,KAAL,CAAW2B,IAAnB,CAAyBzB,YAAY,CAAE,KAAvC,CAAd,EACD,CAVS,CAUP,IAVO,CAAV,CAWD,C,uCAEQ,CACP,GAAM0B,CAAAA,OAAO,CAAG,KAAK5B,KAAL,CAAWY,IAA3B,CACA,GAAIe,CAAAA,IAAJ,CACA,GAAGC,OAAO,CAACC,MAAR,CAAiB,CAApB,CAAuB,CACrBF,IAAI,CAAGC,OAAO,CAACE,GAAR,CAAY,SAACC,GAAD,CAAMC,KAAN,QAAgB,qBAAC,GAAD,EAAK,GAAG,CAAED,GAAG,CAACE,MAAJ,CAAWC,YAAX,CAAwBC,GAAlC,CAAuC,GAAG,CAAEH,KAA5C,EAAhB,EAAZ,CAAP,CACD,CAFD,IAGI,CACFL,IAAI,CAAE,oBAAC,MAAD,MAAN,CACD,CAED,MACE,4BAAK,EAAE,CAAC,cAAR,CAAuB,KAAK,CAAE,CAAES,MAAM,CAAE,oBAAV,CAAgCC,QAAQ,CAAE,MAA1C,CAAkDC,SAAS,CAAE,MAA7D,CAA9B,EACE,0BAAI,SAAS,CAAC,UAAd,EACIX,IADJ,CADF,CAIG,KAAK1B,KAAL,CAAWC,YAAX,CAA0B,yBAAG,SAAS,CAAC,SAAb,0BAA1B,CAA6E,EAJhF,CADF,CAQD,C,qBA9DmBN,KAAK,CAAC2C,S,EAiE5B,cAAexC,CAAAA,OAAf","sourcesContent":["import React from 'react';\nimport './App.css';\nimport Gif from './gif';\nimport NoGifs from './noGifs';\n\n\nclass GifList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n       loadingState: false,\n       offset: 0,\n     };\n   }\n\n  componentDidMount() {\n    const gifContainer = document.querySelector('#gifContainer');\n\n    gifContainer.addEventListener(\"scroll\", () => {\n      if(gifContainer.scrollHeight === gifContainer.clientHeight + gifContainer.scrollTop) {\n        this.loadMoreItems();\n      }\n    });\n  }\n\n  loadMoreItems() {\n    const { data, setGiflist } = this.props;\n\n    if(this.state.loadingState){\n      return;\n    }\n\n    this.setState(prevState => ({\n      offset: prevState.offset + 1,\n      loadingState: true,\n    }));\n \n    setTimeout(() => {\n      fetch('https://api.giphy.com/v1/gifs/trending?&offset=' + this.state.offset + '&limit=20&api_key=dc6zaTOxFJmzC')\n      .then(response => response.json())\n      .then(responseData => {\n        setGiflist(data.concat(responseData.data))\n      })\n      .catch(error => {\n        console.log(error);\n      }); \n      this.setState({ gifs: this.props.gifs, loadingState: false });\n    }, 1000);\n  }\n\n  render() {\n    const results = this.props.data;\n    let gifs;\n    if(results.length > 0 ){\n      gifs = results.map((gif, index) => <Gif url={gif.images.fixed_height.url} key={index} />);\n    }\n    else{\n      gifs= <NoGifs/>\n    }\n                           \n    return (\n      <div id=\"gifContainer\" style={{ height: \"calc(100vh - 76px)\", overflow: \"auto\", marginTop: '10px' }}>\n        <ul className=\"gif-list\">\n          { gifs }\n        </ul>\n        {this.state.loadingState ? <p className=\"loading\"> loading More Items..</p> : \"\"}\n      </div>\n    );\n  }\n}\n\nexport default GifList;\n"]},"metadata":{},"sourceType":"module"}